<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268368 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="298"/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
SUV架构
<div><br><div><br></div></div><div><br></div><div><div><font face="宋体"><b>系统类:</b></font></div><div>     <span style="font-family: 宋体;">Main,AppDelegate</span></div><div>     此处为多平台适配类，包含了多平台参数，如游戏的入口、平台类型、窗口大小等。</div><div><br></div><div><font face="宋体"><br></font></div><div><font face="宋体"><b>游戏场景层：</b></font> </div><div>     <font face="宋体">LoadingScene,MainScene,MenuScene,GameScene,OverScene、PopScene</font></div><div><font face="宋体"><br></font></div><div>     <span style="font-family: 宋体;">1、LoadingScene</span><font face="宋体">：进入游戏的界面，可扩展为播放动画或者有加载的进度条的效果。</font></div><div><font face="宋体"><br></font></div><div>     <span style="font-family: 宋体;">2、MainScene：菜单页面，功能可以如下：进入游戏、加载游戏、游戏保存（此页面为灰色，即不可用）、选项、退出游戏（ios不需要）、商店等。</span></div><div><span style="font-family: 宋体;"><br></span></div><div>     <span style="font-family: 宋体;">3、MenuScene：进入战斗之前，有一个选择战将以及管理战将装备、查看战将信息的页面，<b>我们考虑要不要将商店剥离（作为收费点）。</b></span></div><div><span style="font-family: 宋体;"><br></span></div><div>     <span style="font-family: 宋体;">4、GameScene：游戏的主界面，四层。最底层：背景图（地形），不可修改，不可移动；底层之上：建筑层，玩家需要移动和获取状态（地形点上做消息监听和触发）</span><span style="font-family: 宋体;">；再之上，主角和战将以及其技能和物品效果；最上层是技能图标和功能按钮。</span></div><div><span style="font-family: 宋体;"><br></span></div><div>     <span style="font-family: 宋体;">5、OverScene：结束动画，也可包括一些菜单及跳转。</span></div><div>     </div><div><font face="宋体">   6、PopScene:弹出框，这个很重要，是消息机制的重要体现。</font></div><div><span style="font-family: 宋体;"><br></span></div><div><font face="宋体"><b>游戏表现层：</b></font></div><div>     举例：<span style="font-family: 宋体;">MapLayer（或Map），GameLayer，OptionLayer，PopLayer，这个模块很重要，因为对于点击触摸的效果都在这一层实现。</span></div><div><span style="font-family: 宋体;"><br></span></div><div>     <font face="宋体">1、</font><span style="font-family: 宋体;">MapLayer：主要由地图编辑器生成，分层，即对应如上的</span><span style="font-family: 宋体;">GameScene的前两层。</span></div><div><span style="font-family: 宋体;"><br></span></div><div>     <span style="font-family: 宋体;">2、</span><span style="font-family: 宋体;">GameLayer：对应</span><span style="font-family: 宋体;">GameScene的主角和怪物层。</span></div><div><span style="font-family: 宋体;"><br></span></div><div><font face="宋体">   3、OptionLayer：游戏内消息框的实现。</font></div><div><span style="font-family: 宋体;"><br></span></div><div>     4<span style="font-family: 宋体;">、</span><span style="font-family: 宋体;">PopLayer：对应系统消息框的实现</span><span style="font-family: 宋体;">。</span></div><div><font face="宋体"><br></font></div><div><font face="宋体"><b>Actor：</b></font><span style="font-family: 宋体;">Hero，Fellow，Boss</span></div><div><span style="font-family: 宋体;"><br></span></div><div>     <font face="宋体">1、Hero：</font></div><div>     <font face="宋体">属性有：</font></div><div>     <font face="宋体">生命HP、魔法MP、分类、士气SH、速度Speed、初始位置、装备、状态（debuf、释放技能、攻击、受伤、死亡）、等级、金钱、背包。</font></div><div><font face="宋体"><br></font></div><div>     <font face="宋体">2、Fellow</font><span style="font-family: 宋体;">：</span></div><div>     <span style="font-family: 宋体;">属性有：</span></div><div>     <span style="font-family: 宋体;">生命HP、魔法MP、分类、</span><span style="font-family: 宋体;">士气SH、速度Speed、初始位置、装备、状态（debuf、释放技能、攻击、受伤、死亡）、等级、</span><span style="font-family: 宋体;">AI、消息信息。</span></div><div><span style="font-family: 宋体;"><br></span></div><div>     <span style="font-family: 宋体;">3、</span><span style="font-family: 宋体;">Boss：（主线）</span></div><div>     <span style="font-family: 宋体;">属性有：</span></div><div>     <span style="font-family: 宋体;">生命HP、魔法MP、</span><span style="font-family: 宋体;">初始位置、</span><span style="font-family: 宋体;">速度Speed、状态、技能、AI、等级、特效。</span></div><div><span style="font-family: 宋体;"><br></span></div><div><font face="宋体"><br></font></div><div><font face="宋体"><b>道具和技能：</b></font></div><div>      <span style="font-family: 宋体;">Props、Ability</span></div><div><font face="宋体"><br></font></div><div><font face="宋体">    1、Props</font></div><div>       <font face="宋体">属性有：</font></div><div><font face="宋体"><br></font></div><div><font face="宋体">    2、Ability</font></div><div>       <font face="宋体">属性有：</font></div><div><font face="宋体"><br></font></div><div><span style="font-family: 宋体;"><br></span></div><div><span style="font-family: 宋体;"><b>音乐：</b>MusicMgr</span><span style="font-family: 宋体;"> </span></div><div><span style="font-family: 宋体;"><br></span></div><div><span style="font-family: 宋体;"><b>时间：</b>TimeMgr</span></div><div><span style="font-family: 宋体;"><br></span></div><div>     计时功能：得到系统时间、得到毫秒级时间、</div><div><font face="宋体"><br></font></div><div><font face="宋体"><b>预定义状态信息：</b></font> </div><div>     <font face="宋体">Common</font></div><div><font face="宋体"><br></font></div><div><font face="宋体"><br></font></div><div><font face="宋体"><b>数据存储及管理信息：</b></font></div><div>     <span style="font-family: 宋体;">DataBase<br><br></span></div><div>     <span style="font-family: 宋体;">DBMgr,MissionMgr,StoryMgr,PropMgr，AbilityMgr（需求补充）</span></div><div><span style="font-family: 宋体;"><br></span></div><div><font face="宋体"><br></font></div><div><font face="宋体"><br></font></div><div><font face="宋体"><br></font></div><div><font face="宋体"><b>模块要点：</b></font></div><div><font face="宋体"><b><br></b></font></div><div>     <font face="宋体">1、模块构思与实现，主要模块有：</font></div><div><font face="宋体"><br></font></div><div>     <font face="宋体"><b>引擎层的模块</b>：主要包括初始化、处理逻辑（操作动作）的更新、图形渲染和资源的管理。</font></div><div><font face="宋体"><br></font></div><div>     <font face="宋体"><b>数据管理模块（DataBase）</b>：游戏过程中需要读取（写入）大量的静态、动态数据。包括：总数据管理类、主线剧情管理类、关卡管理类、道具和技能（人物状态）管理类；另外还要考虑到加密。</font></div><div><font face="宋体"><br></font></div><div><font face="宋体">   <b>应用程序配置模块：</b>即游戏中的选项功能，如控制音乐的大小与关闭、重力感应灵敏度。（目前流行的还有转微博送金币等等）</font></div><div><font face="宋体"><br></font></div><div>     <font face="宋体"><b>日志记录模块</b>（针对网络游戏的服务器记录，我们最好做本地记录，很有必要）</font></div><div><font face="宋体"><br></font></div><div>     <font face="宋体"><b>消息机制模块：</b>非常重要。这个模块是针对游戏的扩展性，主要考虑的是事件的触发和逻辑的处理尽可能的分开。如UI面板的隐藏、事件的响应；音效的播放和停止；事件流程的切换；主角（Hero）状态的改变，另外还有脚本和逻辑层的调度。</font></div><div><font face="宋体"><br></font></div><div>     <font face="宋体"><b>输入输出模块：</b>针对的是绑定在上述的Layer中的Touch和重力感应</font><span style="font-size: 11pt;"><font face="宋体">Accelerate</font></span><span style="font-family: 宋体;">，如何处理技能的释放、人物的移动以及攻击动作的完成很重要。</span></div><div><font face="宋体"><br></font></div><div>     <font face="宋体"><b>音效管理模块：</b>我们采用的这个引擎本身集成了一个第三方的开源音乐播放系统，能很好的处理音乐、音效播放的事件。</font></div><div><font face="宋体"><br></font></div><div>    <b> </b><font face="宋体"><b>UI系统模块：</b>理论上多交给动态语言（即脚本，如Python或者Lua）去处理，便于策划人员扩展。目前，这一块不够熟悉。</font></div><div><font face="宋体"><br></font></div><div>     <b>网络模块：</b>暂不考虑，后续考虑。</div><div><font face="宋体"><br></font></div><div>     <font face="宋体"><b>调试模块：</b>设计调试的过程中，我们需要对各项指标进行检测，判断各模块的运行状况，所以我们有必要做一个单独的模块来检测各个模块详细的数据、内存、和处理结果。</font></div><div><font face="宋体"><br></font></div><div><font face="宋体"><br></font></div><div>     2、细节</div><div>     </div><div>     关于细节问题，现在只是提到，为以后预留可能在真正制作和运行的时候更显出重要性。比如浮点与整数的转换、屏幕的像素的适配、意外操作的结果、等等。</div><div><br></div><div><br></div><div>     3、安全性与可扩展性</div><div><br></div><div>     安全性：主要针对游戏反编译，和数据库的加密。</div><div><br></div><div>     可扩展性：分游戏逻辑的耦合、脚本的支持程度。</div><br></div></div>
</div></body></html> 